pipeline{
        agent any
        stages{

            stage('Environment setup'){
                steps{
                    sh "cd scripts/ && chmod +x docker-compose.sh && ./docker-compose.sh"
                }
            }

            stage('Deploy Application'){
                steps{
                    sh "docker-compose up -d"
                }
            }
           stage('Test Application'){
                steps{ 
		  sh "docker-compose exec backend pytest --cov application > pytest-results.txt"
		}
	   }

}
